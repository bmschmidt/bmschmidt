import{S as le,i as se,s as re,e as k,j as V,c as y,a as q,d as o,l as U,R as ae,b as c,f as w,D as d,O as te,t as X,g as Y,G as P,T as Ie,h as ne,v as ie,w as oe,x as ce,p as S,n as Q,A as ue,k as z,m as fe,o as _e,K as he,L as we,P as Te,Q as De}from"../../../chunks/vendor-8de6a194.js";import{l as Le,t as Ve}from"../../../chunks/markdown-a73b7c4d.js";import{a as Ue}from"../../../chunks/translate-48f5a27b.js";import{p as $e}from"../../../chunks/stores-55c0c2f0.js";function je(r){let t,s,e,n,u,b,f,m,_=de(r[0].authors)+"",a,p,v,$=r[0].title+"",O,M,H,N=r[0].abstract+"";return{c(){t=k("div"),s=k("div"),e=k("img"),b=V(),f=k("div"),m=k("div"),a=V(),p=k("div"),v=k("a"),M=V(),H=k("div"),this.h()},l(I){t=y(I,"DIV",{class:!0});var E=q(t);s=y(E,"DIV",{class:!0});var A=q(s);e=y(A,"IMG",{src:!0,alt:!0,class:!0}),A.forEach(o),b=U(E),f=y(E,"DIV",{class:!0});var L=q(f);m=y(L,"DIV",{class:!0});var R=q(m);R.forEach(o),a=U(L),p=y(L,"DIV",{class:!0});var j=q(p);v=y(j,"A",{href:!0,class:!0});var B=q(v);B.forEach(o),j.forEach(o),M=U(L),H=y(L,"DIV",{class:!0});var J=q(H);J.forEach(o),L.forEach(o),E.forEach(o),this.h()},h(){ae(e.src,n="/gallery/"+(r[0].original||r[0].slug)+".png")||c(e,"src",n),c(e,"alt",u=r[0].avatar_alt),c(e,"class","svelte-1nqacq3"),c(s,"class","image svelte-1nqacq3"),c(m,"class","authors svelte-1nqacq3"),c(v,"href",O="/"+r[0].path),c(v,"class","svelte-1nqacq3"),c(p,"class","title svelte-1nqacq3"),c(H,"class","abstract svelte-1nqacq3"),c(f,"class","description svelte-1nqacq3"),c(t,"class","container svelte-1nqacq3")},m(I,E){w(I,t,E),d(t,s),d(s,e),d(t,b),d(t,f),d(f,m),m.innerHTML=_,d(f,a),d(f,p),d(p,v),v.innerHTML=$,d(f,M),d(f,H),H.innerHTML=N},p(I,[E]){E&1&&!ae(e.src,n="/gallery/"+(I[0].original||I[0].slug)+".png")&&c(e,"src",n),E&1&&u!==(u=I[0].avatar_alt)&&c(e,"alt",u),E&1&&_!==(_=de(I[0].authors)+"")&&(m.innerHTML=_),E&1&&$!==($=I[0].title+"")&&(v.innerHTML=$),E&1&&O!==(O="/"+I[0].path)&&c(v,"href",O),E&1&&N!==(N=I[0].abstract+"")&&(H.innerHTML=N)},i:te,o:te,d(I){I&&o(t)}}}function de(r){return r.length===1?r[0]:r.length===2?r[0]+" and "+r[1]:r.slice(0,r.length-1).join(", ")+", and "+r.slice(-1)[0]}function He(r,t,s){let{attributes:e}=t;return r.$$set=n=>{"attributes"in n&&s(0,e=n.attributes)},[e]}class Ne extends le{constructor(t){super();se(this,t,He,je,re,{attributes:0})}}function pe(r,t,s){const e=r.slice();return e[7]=t[s],e}function me(r,t,s){const e=r.slice();return e[10]=t[s][0],e[11]=t[s][1],e}function ve(r){let t,s=r[10]+"",e,n,u=r[11]+"",b,f,m,_;function a(){return r[5](r[10])}return{c(){t=k("span"),e=X(s),n=X(" ("),b=X(u),f=X(`)
    `),this.h()},l(p){t=y(p,"SPAN",{style:!0});var v=q(t);e=Y(v,s),n=Y(v," ("),b=Y(v,u),f=Y(v,`)
    `),v.forEach(o),this.h()},h(){P(t,"background-color",r[10]===r[0]?"grey":"white")},m(p,v){w(p,t,v),d(t,e),d(t,n),d(t,b),d(t,f),m||(_=Ie(t,"click",a),m=!0)},p(p,v){r=p,v&2&&s!==(s=r[10]+"")&&ne(e,s),v&2&&u!==(u=r[11]+"")&&ne(b,u),v&3&&P(t,"background-color",r[10]===r[0]?"grey":"white")},d(p){p&&o(t),m=!1,_()}}}function be(r){let t,s;return t=new Ne({props:{attributes:r[7]}}),{c(){ie(t.$$.fragment)},l(e){oe(t.$$.fragment,e)},m(e,n){ce(t,e,n),s=!0},p(e,n){const u={};n&4&&(u.attributes=e[7]),t.$set(u)},i(e){s||(S(t.$$.fragment,e),s=!0)},o(e){Q(t.$$.fragment,e),s=!1},d(e){ue(t,e)}}}function Me(r){let t,s,e,n,u,b,f,m,_,a,p,v,$,O,M,H,N,I,E,A,L,R,j,B,J,W,Z,C,x,K=Object.entries(r[1]),T=[];for(let l=0;l<K.length;l+=1)T[l]=ve(me(r,K,l));let F=r[2],g=[];for(let l=0;l<F.length;l+=1)g[l]=be(pe(r,F,l));const ge=l=>Q(g[l],1,1,()=>{g[l]=null});return{c(){t=k("ul"),s=V(),e=k("ul"),n=X(`Filter topics. (There are better ways to do this for aria-compliance.)
  `),u=k("br"),b=V();for(let l=0;l<T.length;l+=1)T[l].c();f=V(),m=k("div"),_=V(),a=k("div"),p=k("input"),v=V(),$=k("input"),O=V(),M=k("button"),H=V(),N=k("i"),I=V(),E=k("div"),A=V(),L=k("div"),R=V(),j=k("div"),B=k("ul"),J=V(),W=k("ul"),Z=V();for(let l=0;l<g.length;l+=1)g[l].c();C=z(),this.h()},l(l){t=y(l,"UL",{class:!0});var h=q(t);h.forEach(o),s=U(l),e=y(l,"UL",{class:!0});var i=q(e);n=Y(i,`Filter topics. (There are better ways to do this for aria-compliance.)
  `),u=y(i,"BR",{}),b=U(i);for(let G=0;G<T.length;G+=1)T[G].l(i);i.forEach(o),f=U(l),m=y(l,"DIV",{id:!0}),q(m).forEach(o),_=U(l),a=y(l,"DIV",{id:!0,style:!0});var D=q(a);p=y(D,"INPUT",{id:!0,class:!0,type:!0}),v=U(D),$=y(D,"INPUT",{id:!0,class:!0,type:!0,style:!0}),O=U(D),M=y(D,"BUTTON",{id:!0}),q(M).forEach(o),H=U(D),N=y(D,"I",{id:!0,class:!0}),q(N).forEach(o),I=U(D),E=y(D,"DIV",{id:!0});var ke=q(E);ke.forEach(o),D.forEach(o),A=U(l),L=y(l,"DIV",{id:!0,style:!0});var ye=q(L);ye.forEach(o),R=U(l),j=y(l,"DIV",{id:!0});var ee=q(j);B=y(ee,"UL",{class:!0});var Ee=q(B);Ee.forEach(o),J=U(ee),W=y(ee,"UL",{class:!0});var qe=q(W);qe.forEach(o),ee.forEach(o),Z=U(l);for(let G=0;G<g.length;G+=1)g[G].l(l);C=z(),this.h()},h(){c(t,"class","filter activities"),c(e,"class","filter topics"),c(m,"id","filter-none"),c(p,"id","loading-search"),c(p,"class","search-input"),c(p,"type","text"),c($,"id","search"),c($,"class","search-input"),c($,"type","text"),P($,"display","none"),c(M,"id","search-button"),M.disabled=!0,c(N,"id","search-info-button"),c(N,"class","fas fa-question-circle"),c(E,"id","search-info"),c(a,"id","search-div"),P(a,"text-align","center"),P(a,"margin-bottom","1rem"),P(a,"display","none"),c(L,"id","enable-search-div"),P(L,"text-align","center"),P(L,"margin-bottom","1rem"),c(B,"class","sort-by"),c(W,"class","list"),c(j,"id","lesson-list")},m(l,h){w(l,t,h),w(l,s,h),w(l,e,h),d(e,n),d(e,u),d(e,b);for(let i=0;i<T.length;i+=1)T[i].m(e,null);w(l,f,h),w(l,m,h),w(l,_,h),w(l,a,h),d(a,p),d(a,v),d(a,$),d(a,O),d(a,M),d(a,H),d(a,N),d(a,I),d(a,E),w(l,A,h),w(l,L,h),w(l,R,h),w(l,j,h),d(j,B),d(j,J),d(j,W),w(l,Z,h);for(let i=0;i<g.length;i+=1)g[i].m(l,h);w(l,C,h),x=!0},p(l,[h]){if(h&3){K=Object.entries(l[1]);let i;for(i=0;i<K.length;i+=1){const D=me(l,K,i);T[i]?T[i].p(D,h):(T[i]=ve(D),T[i].c(),T[i].m(e,null))}for(;i<T.length;i+=1)T[i].d(1);T.length=K.length}if(h&4){F=l[2];let i;for(i=0;i<F.length;i+=1){const D=pe(l,F,i);g[i]?(g[i].p(D,h),S(g[i],1)):(g[i]=be(D),g[i].c(),S(g[i],1),g[i].m(C.parentNode,C))}for(fe(),i=F.length;i<g.length;i+=1)ge(i);_e()}},i(l){if(!x){for(let h=0;h<F.length;h+=1)S(g[h]);x=!0}},o(l){g=g.filter(Boolean);for(let h=0;h<g.length;h+=1)Q(g[h]);x=!1},d(l){l&&o(t),l&&o(s),l&&o(e),he(T,l),l&&o(f),l&&o(m),l&&o(_),l&&o(a),l&&o(A),l&&o(L),l&&o(R),l&&o(j),l&&o(Z),he(g,l),l&&o(C)}}}function Oe(r,t,s){let e,n,u,{lang:b}=t;const f=Le(b),m={};for(let a of f){if(!a.topics){console.warn("lesson has no topic",a);continue}for(let p of a.topics)m[p]=m[p]+1||1}const _=a=>s(0,e=a);return r.$$set=a=>{"lang"in a&&s(3,b=a.lang)},r.$$.update=()=>{r.$$.dirty&17&&s(2,u=f.filter(a=>(e===void 0||a.topics&&a.topics.includes(e))&&(n===void 0||a.activity==n)))},s(0,e=void 0),s(4,n=void 0),[e,m,u,b,n,_]}class Pe extends le{constructor(t){super();se(this,t,Oe,Me,re,{lang:3})}}function Ae(r){let t,s;return{c(){t=new Te,s=z(),this.h()},l(e){t=De(e),s=z(),this.h()},h(){t.a=s},m(e,n){t.m(r[0],e,n),w(e,s,n)},p(e,n){n&1&&t.p(e[0])},i:te,o:te,d(e){e&&o(s),e&&t.d()}}}function Be(r){let t,s;return t=new Pe({props:{lang:r[2]}}),{c(){ie(t.$$.fragment)},l(e){oe(t.$$.fragment,e)},m(e,n){ce(t,e,n),s=!0},p(e,n){const u={};n&4&&(u.lang=e[2]),t.$set(u)},i(e){s||(S(t.$$.fragment,e),s=!0)},o(e){Q(t.$$.fragment,e),s=!1},d(e){ue(t,e)}}}function Fe(r){let t,s,e,n,u;const b=[Be,Ae],f=[];function m(_,a){return(t==null||a&2)&&(t=!!Ue.has(_[1].params.lessons)),t?0:1}return s=m(r,-1),e=f[s]=b[s](r),{c(){e.c(),n=z()},l(_){e.l(_),n=z()},m(_,a){f[s].m(_,a),w(_,n,a),u=!0},p(_,[a]){let p=s;s=m(_,a),s===p?f[s].p(_,a):(fe(),Q(f[p],1,1,()=>{f[p]=null}),_e(),e=f[s],e?e.p(_,a):(e=f[s]=b[s](_),e.c()),S(e,1),e.m(n.parentNode,n))},i(_){u||(S(e),u=!0)},o(_){Q(e),u=!1},d(_){f[s].d(_),_&&o(n)}}}async function Qe({params:r,url:t}){const s=Ve.get(t.pathname);return s===void 0?{props:{error:!0}}:{props:{html:s.html,attributes:s.attributes}}}function Ge(r,t,s){let e,n;we(r,$e,b=>s(1,n=b));let{html:u="PAGE NOT FOUND"}=t;return r.$$set=b=>{"html"in b&&s(0,u=b.html)},r.$$.update=()=>{r.$$.dirty&2&&s(2,e=n.params.lang)},[u,n,e]}class ze extends le{constructor(t){super();se(this,t,Ge,Fe,re,{html:0})}}export{ze as default,Qe as load};
